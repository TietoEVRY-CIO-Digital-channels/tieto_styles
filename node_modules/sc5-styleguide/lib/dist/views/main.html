<div class="{{viewClass}}">
<div id="socketDisconnection" class="sg disconnection-icon" title="no socket connection" ng-hide="socketService.isConnected()" ng-if="socketService.isAvailable()">
  <i class="fa fa-chain-broken"></i>
</div>
<header class="sg sg-header" ng-class="{'designerToolVisible' : designerTool.isVisible, 'error' : status.hasError}">
  <div class="sg-inner">
    <div class="sg-title">
      <a class="sg" ui-sref="app.index.overview">

        <h1 ng-hide="status.hasError" class="sg">
          <svg class="tieto-logo">
            <use xlink:href="#tieto-logo">
              <svg id="tieto-logo" width="100" height="100" viewBox="10 0 110 110">
                <path d="M41.842 31.341c.099 2.33 1.496 3.881 3.948 3.881 1.397 0 2.758-.625 3.298-1.876h5.433C53.482 37.29 49.685 39 45.738 39c-5.75 0-9.662-3.354-9.662-9.07 0-5.224 4.317-8.971 9.527-8.971 6.331 0 9.495 4.604 9.22 10.382zm7.178-3.1c-.103-1.908-1.5-3.484-3.433-3.484-2.047 0-3.408 1.416-3.745 3.483zm26.715-7.282c5.517 0 9.413 3.912 9.413 9.038 0 5.127-3.875 9.003-9.413 9.003-5.537 0-9.35-3.876-9.35-9.003 0-5.126 3.839-9.038 9.35-9.038zm0 13.767c2.71 0 3.562-2.584 3.562-4.729 0-2.144-.858-4.764-3.562-4.764-2.703 0-3.524 2.584-3.524 4.764 0 2.181.82 4.734 3.524 4.734zm-48.324-9.372h-3.567v7.617c0 1.39.814 1.69 2.074 1.69.472 0 .985-.067 1.498-.067v4.235c-1.037.031-2.105.171-3.157.171-4.926 0-6.186-1.422-6.186-6.205v-7.44h-2.925V21.63h2.92v-5.724h5.776v5.724h3.567zm7.222-5.275h-5.768v-4.172h5.768zm-5.773 1.565h5.773V39h-5.768zm37.515 3.71h-3.56v7.617c0 1.39.813 1.69 2.073 1.69.471 0 .984-.067 1.497-.067v4.235c-1.036.031-2.104.171-3.156.171-4.924 0-6.183-1.422-6.183-6.205v-7.44h-2.929V21.63h2.898v-5.724h5.8v5.724h3.565z"></path>
              </svg>
            </use>
          </svg>
          styleguide
        </h1>
        <h1 ng-if="status.hasError">Error: {{status.error.name}}</h1>
      </a>
      <pre ng-if="status.hasError">{{status.error.message}}</pre>
    </div>
    <div class="sg sg-search-container" ng-class="{ 'side-nav-search': isSideNav() === 'sideNav' }">
      <div class="sg-hamburger " ng-click="toggleSideNav(toggleMenu)" ng-hide="isSideNav() === 'topNav'" ng-class="{ 'sg-hamburger-active': !toggleMenu }">
        <div class="sg-hamburger-item top"></div>
        <div class="sg-hamburger-item middle"></div>
        <div class="sg-hamburger-item bottom"></div>
      </div>
      <input
        class="sg sg-search-field"
        id="search-section"
        placeholder="Search styles"
        ng-model="search.$"
        type="search"
        ng-model-options="{ updateOn: 'default blur', debounce: {'default': 500, 'blur': 0} }"
        autofocus>
    </div>
  </div>
</header>

<nav class="sg sg-top-nav" ng-class="{'designerToolVisible' : designerTool.isVisible, 'sg-nav-visible': isSideNav() === 'topNav'}">
  <ul class="sg sg-top-nav-menu">
    <li class="sg-nav-item">
      <a class="sg sg-nav-link"
        ng-class="currentSection === 'overview' ? 'active' : ''"
        ng-click="clearSearch()"
        ui-sref="app.index.overview">
        Overview
      </a>
    </li>
    <li class="sg-nav-item" ng-repeat="section in sections.data | filter: filterMainSections()">
      <a class="sg sg-nav-link"
          ng-class="{ 'active': (currentSection === section.reference), 'sub-active': (currentSection.indexOf(section.reference + '.') === 0) }"
        ng-click="clearSearch()"
        ui-sref="app.index.section({section: section.reference})">
        <span class="sg-ref" ng-if="config.data.showReferenceNumbers">{{ section.reference }}</span> <span ng-bind-html="section.header | unsafe"></span>
      </a>
      <ul class="sg sg-nav-subsection">
        <li class="sg-nav-item" ng-repeat="subsection in sections.data | filter: filterSubsections(section)">
          <a class="sg sg-nav-link"
            ng-class="currentSection === subsection.reference ? 'active' : ''"
            ng-click="clearSearch()"
            ui-sref="app.index.section({section: subsection.reference})">
            <span class="sg-ref" ng-if="config.data.showReferenceNumbers">{{ subsection.reference }}</span> <span ng-bind-html="subsection.header | unsafe"></span>
          </a>
        </li>
      </ul>
    </li>
  </ul>
</nav>

<div class="sg sg-wrapper full-height" ng-class="{'designerToolVisible' : designerTool.isVisible, 'collapsed' : toggleMenu}" ng-if="isSideNav() === 'topNav'">
  <section ui-view class="sg sg-body full-width">
  </section>
</div>

<div class="sg sg-wrapper full-height" ng-class="{'designerToolVisible' : designerTool.isVisible}" ng-if="isSideNav() === 'sideNav'">
  <div class="sg side-nav-toggle" ng-click="toggleSideNav(toggleMenu)">
    {{ toggleMenu ? "&gt;&gt;" : "&lt;&lt;" }}
  </div>
  <nav class="sg sg-side-nav" ng-class="{ 'sg-side-nav--toggle': toggleMenu}">
    <ul class="sg sg-nav-section">
      <li class="sg sg-nav-item">
        <a class="sg sg-nav-link"
          ng-class="currentSection === 'overview' ? 'active' : ''"
          ng-click="clearSearch();"
          ui-sref="app.index.overview">
          Overview
        </a>
      </li>
      <li class="sg sg-nav-item" ng-repeat="section in sections.data | filter: filterMainSections()">
        <a class="sg sg-nav-link"
            ng-class="{ 'active': (currentSection === section.reference), 'sub-active': (currentSection.indexOf(section.reference + '.') === 0) }"
          ng-click="clearSearch(); show = !show;"
          ui-sref="{{isMainSectionNavigable()}}">
          <span class="sg-ref" ng-if="config.data.showReferenceNumbers">{{ section.reference }}</span> <span ng-bind-html="section.header | unsafe"></span>
        </a>
        <ul class="sg-nav-subsection" ng-show="show">
          <li class="sg sg-nav-item" ng-repeat="subsection in sections.data | filter: filterSubsections(section)">
            <a class="sg sg-nav-link"
              ng-class="currentSection === subsection.reference ? 'active' : ''"
              ng-click="clearSearch(); showSub = !showSub;"
              ui-sref="app.index.section({section: subsection.reference})">
              <span class="sg-ref" ng-class="{'plus': hasSubsections(subsection), 'minus': hasSubsections(subsection) && showSub}" ng-if="config.data.showReferenceNumbers">
                {{ subsection.reference }}
              </span>
              <span ng-bind-html="subsection.header | unsafe"></span>
            </a>
            <ul class="sg-nav-subsubsection" ng-show="showSub">
              <li class="sg sg-nav-item" ng-repeat="subsubsection in sections.data | filter: filterSubsections(subsection)">
                <a class="sg sg-nav-link"
                  ng-class="currentSection === subsubsection.reference ? 'active' : ''"
                  ng-click="clearSearch()"
                  ui-sref="app.index.section({section: subsubsection.reference})">
                  <span class="sg-ref" ng-if="config.data.showReferenceNumbers">{{ subsubsection.reference }}</span> <span ng-bind-html="subsubsection.header | unsafe"></span>
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
    <p class="sg option">
      <a class="sg" ng-click="toggleMarkup()" ng-show="markupSection.isVisible">Hide all markup</a>
      <a class="sg" ng-click="toggleMarkup()" ng-hide="markupSection.isVisible">Show all markup</a>
    </p>
  </nav>

  <section ui-view class="sg sg-body" ng-class="{'full-width': !toggleMenu}">
  </section>
</div>

<div sg-design></div>
</div>
<footer class="sg sg-footer">
  <div class="sg sg-content">
    <p>
      <a class="sg" ng-click="toggleMarkup()" ng-show="markupSection.isVisible">Hide all markup</a>
      <a class="sg" ng-click="toggleMarkup()" ng-hide="markupSection.isVisible">Show all markup</a>
    </p>
    <span class="sg">
      Generated with the <a class="sg" target="_blank" href="http://styleguide.sc5.io/">styleguide engine</a> by
    </span>
    <a href="http://sc5.io/" target="_blank" title="SC5 - The Leading HTML5 Expert">
      <img class="sg-logo" src="assets/img/sc5logo.svg" alt="SC5"/>
    </a>
  </div>
</footer>
